/*! starting-point 24-12-2014 */
var utilities=function(){"use strict";function a(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozTransition:"animationend",WebkitTransition:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}function b(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}function c(){return"ontouchstart"in document.documentElement}return{whichAnimationEvent:a,whichTransitionEvent:b,isTouchDevice:c}}(),main=function(){"use strict";function a(){i()}function b(){n.setAttribute("aria-busy","false")}function c(a){"undefined"!=typeof a&&n.classList.add("transitions-off"),f(),n.classList.remove("menu-open"),p.setAttribute("aria-hidden","true"),setTimeout(function(){n.classList.remove("transitions-off")})}function d(a){return a.preventDefault()?void a.preventDefault():!1}function e(){q.addEventListener("touchstart",d),q.addEventListener("touchmove",d)}function f(){q.removeEventListener("touchstart",d),q.removeEventListener("touchmove",d)}function g(){n.classList.contains("menu-open")?(n.classList.remove("menu-open"),p.setAttribute("aria-hidden","true"),f()):(n.classList.add("menu-open"),p.setAttribute("aria-hidden","false"),e(),setTimeout(function(){p.focus()},300))}function h(){var a,b,c=window.scrollY;c>0&&(document.querySelector("html").classList.contains("csstransforms3d")?(a=function(){b(),o.removeAttribute("style"),window.scrollTo(0,0),n.classList.remove("body-scrolling")},b=function(){o.removeEventListener(l,a)},n.classList.add("body-scrolling"),o.style.overflowY="scroll",window.scrollTop=0,o.style.webkitTransition="all .5s ease-out",o.style.transition="all .5s ease-out",o.style.webkitTransform="translateY("+c+"px)",o.style.transform="translateY("+c+"px)",l&&o.addEventListener(l,a,!1)):window.scrollTo(0,0))}function i(){var a=document.querySelector("#toggle-menu"),d=document.querySelectorAll(".nav-link"),e=27;[].forEach.call(d,function(a){a.addEventListener("click",function(){c(!0)})}),window.addEventListener("load",b),a.addEventListener(m,g),r.addEventListener(m,h),document.onkeydown=function(a){a.keyCode===e&&c()},document.addEventListener("touchstart",function(){},!0)}function j(a){function b(){d.classList.add(e)}var c=document.querySelector(a.waiting_for),d=document.querySelector(a.next_up),e=a.apply;l&&c.addEventListener(l,b,!1)}function k(a,b){var c=document.querySelector(a),d=document.importNode(c.content,!0);b.setAttribute("aria-busy","true"),b.appendChild(d),b.setAttribute("aria-busy","false")}var l=utilities.whichTransitionEvent(),m=(utilities.whichAnimationEvent(),utilities.isTouchDevice()?"touchstart":"click"),n=(document.querySelector("main"),document.querySelector("body")),o=document.querySelector(".container"),p=document.querySelector("[role=navigation]"),q=document.querySelector(".content-pusher"),r=document.querySelector("#back-to-top");return{init:a,chain:j,loadTemplate:k}}();